(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3cf64856"],{"386d":function(t,e,n){"use strict";var a=n("cb7c"),i=n("83a1"),o=n("5f1b");n("214f")("search",1,(function(t,e,n,r){return[function(n){var a=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,a):new RegExp(n)[e](String(a))},function(t){var e=r(n,t,this);if(e.done)return e.value;var s=a(t),c=String(this),d=s.lastIndex;i(d,0)||(s.lastIndex=0);var l=o(s,c);return i(s.lastIndex,d)||(s.lastIndex=d),null===l?-1:l.index}]}))},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},9816:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"110px"}},[n("el-form-item",{attrs:{label:"详细地址：",prop:"address"}},[n("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"popper-class":"autoAddressClass","fetch-suggestions":t.querySearchAsync,"trigger-on-focus":!1,placeholder:"详细地址",clearable:""},on:{select:t.handleSelect},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item;return[n("i",{staticClass:"el-icon-search fl mgr10"}),t._v(" "),n("div",{staticStyle:{overflow:"hidden"}},[n("div",{staticClass:"title"},[t._v(t._s(a.title))]),t._v(" "),n("span",{staticClass:"address ellipsis"},[t._v(t._s(a.address))])])]}}]),model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"地图定位："}},[n("div",{staticStyle:{width:"100%",height:"500px"},attrs:{id:"map-container"}})]),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("提交")]),t._v(" "),n("el-button",[t._v("取消")])],1)],1)],1)},i=[],o=(n("386d"),n("96cf"),n("1da1"));function r(t){return new Promise((function(e,n){if("undefined"!==typeof window.BMap)return e(window.BMap),!0;window.onBMapCallback=function(){e(window.BMap)};var a=document.createElement("script");a.type="text/javascript",a.src="https://api.map.baidu.com/api?v=3.0&ak="+t+"&callback=onBMapCallback",a.onerror=n,document.head.appendChild(a)}))}var s={data:function(){return{form:{address:"",addrPoint:{lng:0,lat:0}},map:"",mk:"",locationPoint:null}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r("oW2UEhdth2tRbEE4FUpF9E5YVDCIPYih");case 2:this.initMap();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{initMap:function(){var t=this;this.map=new BMap.Map("map-container",{enableMapClick:!1});var e=new BMap.Point(113.3324436,23.1315381);this.map.centerAndZoom(e,19),this.mk=new BMap.Marker(e,{enableDragging:!0}),this.map.addOverlay(this.mk),this.mk.addEventListener("dragend",(function(e){t.getAddrByPoint(e.point)})),this.map.addControl(new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_RIGHT,type:BMAP_NAVIGATION_CONTROL_SMALL}));var n=new BMap.GeolocationControl({anchor:BMAP_ANCHOR_BOTTOM_LEFT});n.addEventListener("locationSuccess",(function(e){t.getAddrByPoint(e.point)})),n.addEventListener("locationError",(function(t){alert(t.message)})),this.map.addControl(n),this.geolocation(),this.map.addEventListener("click",(function(e){t.getAddrByPoint(e.point)}))},getDistancs:function(t,e){return this.map.getDistance(t,e).toFixed(2)},geolocation:function(){var t=this,e=new BMap.Geolocation;e.getCurrentPosition((function(e){this.getStatus()==BMAP_STATUS_SUCCESS?(t.getAddrByPoint(e.point),t.locationPoint=e.point):(alert("failed"+this.getStatus()),t.locationPoint=new BMap.Point(113.3324436,23.1315381))}),{enableHighAccuracy:!0})},getAddrByPoint:function(t){var e=this,n=new BMap.Geocoder;n.getLocation(t,(function(n){e.mk.setPosition(t),e.map.panTo(t),e.form.address=n.address,e.form.addrPoint=t}))},querySearchAsync:function(t,e){var n={onSearchComplete:function(t){var n=[];if(a.getStatus()==BMAP_STATUS_SUCCESS){for(var i=0;i<t.getCurrentNumPois();i++)n.push(t.getPoi(i));e(n)}else e(n)}},a=new BMap.LocalSearch(this.map,n);a.search(t)},handleSelect:function(t){this.form.address=t.address+t.title,this.form.addrPoint=t.point,this.map.clearOverlays(),this.mk=new BMap.Marker(t.point),this.map.addOverlay(this.mk),this.map.panTo(t.point)},onSubmit:function(){}}},c=s,d=(n("fb3d"),n("2877")),l=Object(d["a"])(c,a,i,!1,null,"0b11304a",null);e["default"]=l.exports},c6e8:function(t,e,n){},fb3d:function(t,e,n){"use strict";n("c6e8")}}]);